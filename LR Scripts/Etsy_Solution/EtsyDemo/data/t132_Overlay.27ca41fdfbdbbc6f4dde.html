(window["jsonp-common-entrypoints"]=window["jsonp-common-entrypoints"]||[]).push([["auto/@etsy-modules/CategoryNav/NavHandlers/Overlay"],{"68KA":function(e,t,i){"use strict";i.r(t);i.d(t,"Overlay",(function(){return o}));var a=i("w1yB");function n(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:true,configurable:true,writable:true}):e[t]=i;return e}const r={OVERLAY_OPEN:"overlay-open",OVERLAY_CLOSE:"overlay-close"};const s={HEADER_WRAPPER:"[data-selector='header-cat-nav-wrapper']"};class o{constructor(e,t){n(this,"container",void 0);n(this,"overlay",void 0);n(this,"activeTriggers",void 0);this.container=e;this.overlay=t;this.activeTriggers=[];this.bindEventListeners();this.openOverlay=this.openOverlay.bind(this);this.closeOverlay=this.closeOverlay.bind(this)}bindEventListeners(){this.container.addEventListener(r.OVERLAY_OPEN,(e=>{e instanceof CustomEvent&&this.openOverlay(e)}));this.container.addEventListener(r.OVERLAY_CLOSE,(e=>{e instanceof CustomEvent&&this.closeOverlay(e)}));this.overlay.addEventListener("click",(()=>{this.activeTriggers=[];this.overlay.classList.remove("wt-overlay--will-animate");this.overlay.setAttribute("aria-hidden","true")}))}openOverlay(e){var t;const i=null===(t=e.detail)||void 0===t?void 0:t.target;if("undefined"!==typeof i&&null!==i){const e=this.activeTriggers.indexOf(i);-1===e&&this.activeTriggers.push(i);if(this.overlay){this.overlay.classList.add("wt-overlay--will-animate");this.overlay.setAttribute("aria-hidden","false")}}}closeOverlay(e){var t;const i=null===(t=e.detail)||void 0===t?void 0:t.target;const a=this.activeTriggers.indexOf(i);if("undefined"!==typeof i&&null!==i){-1!==a&&this.activeTriggers.splice(a,1);if(0===this.activeTriggers.length&&this.overlay){this.overlay.classList.remove("wt-overlay--will-animate");this.overlay.setAttribute("aria-hidden","true")}}}static dispatchOpenBackgroundOverlayIfEligible(e){if(a["default"].getBoolean("has_dropdown_background_overlay",false)&&e instanceof HTMLElement){var t;const i=new CustomEvent(r.OVERLAY_OPEN,{detail:{target:e}});null===(t=document.querySelector(s.HEADER_WRAPPER))||void 0===t?void 0:t.dispatchEvent(i)}}static dispatchCloseBackgroundOverlayIfEligible(e){if(a["default"].getBoolean("has_dropdown_background_overlay",false)&&e instanceof HTMLElement){var t;const i=new CustomEvent(r.OVERLAY_CLOSE,{detail:{target:e}});null===(t=document.querySelector(s.HEADER_WRAPPER))||void 0===t?void 0:t.dispatchEvent(i)}}}}}]);
//# sourceMappingURL=https://www.etsy.com/sourcemaps/evergreenVendor/en-GB/async/common-entrypoints/auto/@etsy-modules/CategoryNav/NavHandlers/Overlay.27ca41fdfbdbbc6f4dde.js.map