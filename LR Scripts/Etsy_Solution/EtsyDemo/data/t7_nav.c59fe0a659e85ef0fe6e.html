(window["jsonp-common-entrypoints"]=window["jsonp-common-entrypoints"]||[]).push([["auto/bootstrap/category-nav/v2/nav"],{"g/Ib":function(e,t,n){"use strict";n.r(t);var a=n("3a3M");var o=n.n(a);var l=n("/wG7");var d=n("H3fw");var s=n("KWsK");var u=n("w1yB");const r={KEY:"catnav",NAME:"CategoryNav_V2_ApiSpec_SubNav"};const c={CAT_NAV:'[id="desktop-category-nav"]',TOP_NAV_LIST:'[data-ui="top-nav-category-list"]',TOP_NAV:'[id="desktop-category-topnav"]',SUB_NAV_CONTAINER:'[data-ui="sub-nav-container"]',SUB_NAV:'[data-ui="sub-nav"]',GIFT_GUIDE_TREATMENT:"[data-cyber-gift-guide-treatment]",SALE_PROMO_TREATMENT:"[data-cyber-sale-treatment]",SALE_PROMO_CONTROL:"[data-cyber-sale-control]",HEADER_WRAPPER:"[data-selector='header-cat-nav-wrapper']"};const i=o()(c.CAT_NAV);const _=i.find(c.TOP_NAV_LIST);const v=o()(c.TOP_NAV);const f=i.find(c.SUB_NAV);const g=i.find(c.GIFT_GUIDE_TREATMENT);const E=i.find(c.SALE_PROMO_TREATMENT);const h=i.find(c.SALE_PROMO_CONTROL);const N=u["default"].getBoolean("should_hide_sub_nav",false);const T=u["default"].getBoolean("should_show_breadcrumbs",false);const p=u["default"].getBoolean("has_dropdown",false);const A=u["default"].getBoolean("show_visual_subnav",false);const m=u["default"].getBoolean("clickable_nav",false);const y=u["default"].getBoolean("has_dropdown_background_overlay",false);const b=u["default"].getBoolean("link_to_search",false);const w=u["default"].getBoolean("add_vintage_node",false);const O=u["default"].getBoolean("images_in_l2",false);const C=u["default"].getBoolean("link_to_market",false);const R=u["default"].getBoolean("force_use_global_processor",false);const S=0;g.on("click",(()=>{d["default"].logEvent({event_name:"catnav_gifts_clicked"})}));E.on("click",(()=>{d["default"].logEvent({event_name:"catnav_saletreatment_clicked"})}));h.on("click",(()=>{d["default"].logEvent({event_name:"catnav_salecontrol_clicked"})}));u["default"].getBoolean("is_options_nav",false)&&n.e("auto/nav/Tracker").then(n.bind(null,"mqIC")).then((({default:e})=>new e('[data-selector="user-options-nav"] li',u["default"].getString("button_hover_event_name",""))));function k(){const e=((null===_||void 0===_?void 0:_.children().length)>0||(null===v||void 0===v?void 0:v.children().length)>0)&&m;const t=document.querySelector(c.HEADER_WRAPPER);if(y||e){const e=document.querySelector('[data-ui="overlay"]');t&&e&&setTimeout((()=>{n.e("auto/@etsy-modules/CategoryNav/NavHandlers/Overlay").then(n.bind(null,"68KA")).then((({Overlay:n})=>new n(t,e)))}),S)}e?t&&setTimeout((()=>{n.e("auto/@etsy-modules/CategoryNav/NavHandlers/ClickableHandler").then(n.bind(null,"d97D")).then((({ClickableHandler:e})=>new e(t)))}),S):(null===_||void 0===_?void 0:_.children().length)>0&&!m&&setTimeout((()=>{n.e("auto/category-nav/v2/category_handler").then(n.bind(null,"k3/0")).then((({CategoryHandler:e})=>new e(i)))}),S);T&&setTimeout((()=>{n.e("auto/category-nav/v2/breadcrumb_handler").then(n.bind(null,"KEbr")).then((({BreadcrumbHandler:e})=>new e))}),S);if(p){if(O){setTimeout((()=>{n.e("auto/@etsy-modules/CategoryNav/Views/DropdownMenu/CardsDropdown/Menu").then(n.bind(null,"tRNE")).then((({CardsDropdown:e})=>new e))}),S);return}if(A){setTimeout((()=>{n.e("auto/@etsy-modules/CategoryNav/Views/DropdownMenu/PeekOverlaySubmenu").then(n.bind(null,"QQ1P")).then((({PeekOverlaySubmenu:e})=>new e))}),S);return}setTimeout((()=>{n.e("auto/@etsy-modules/CategoryNav/Views/DropdownMenu/Menu").then(n.bind(null,"2cvw")).then((({DropdownMenu:e})=>new e(b,w,C,R)))}),S);return}}if(0===f.length&&!N&&(null===_||void 0===_?void 0:_.children().length)>0){const e=l["default"].getSpecArgsForSpec(r.NAME,c.CAT_NAV);l["default"].fetchOne(r.KEY,r.NAME,e,"GET",true).done((e=>{if(e.output&&e.output[r.KEY]){var t;null===i||void 0===i||null===(t=i.find(`${c.SUB_NAV_CONTAINER} ${l["default"].DEFAULT_PLACEHOLDER_SELECTOR}`))||void 0===t?void 0:t.replaceWith(e.output[r.KEY]);k()}else s["default"].captureMessage("Desktop CatNav NeuSpec data.output not defined",{level:"info",extra:{specKey:r.KEY,specName:r.NAME,data:e}})}))}else k()}}]);
//# sourceMappingURL=https://www.etsy.com/sourcemaps/evergreenVendor/en-GB/async/common-entrypoints/auto/bootstrap/category-nav/v2/nav.c59fe0a659e85ef0fe6e.js.map